<lib-sequencer></lib-sequencer>
<button mat-button (click)="start()">Start (CLICK FIRST)</button>
<button mat-button (click)="stop()">Stop</button>
@let keyEvent = keyEvent$ | async;

<mat-card style="width: 80%; display: inline-block">
  <div style="margin-left: 8px">
    @for(key of noteMap; track key) { @if(key.accidental) {
    <span
      [ngStyle]="{
        'margin-left': key.note === 'F' ? '10px' : '0px'
      }"
    >
      <button
        [ngStyle]="{ opacity: key.keyCode === keyEvent?.code ? 1 : 0.5 }"
        (click)="playNote(key.note)"
      >
        {{ key.note }}{{ key.accidental }}
      </button>
    </span>

    } }
  </div>
  <div>
    @for(key of noteMap; track key) { @if(!key.accidental) {
    <button
      [ngStyle]="{ opacity: key.keyCode === keyEvent?.code ? 1 : 0.5 }"
      (click)="playNote(key.note)"
    >
      {{ key.note }}
    </button>
    } }
  </div>
</mat-card>
<!-- <button mat-button (click)="toggle()">Toggle Open/Close</button> -->
